<main class="main">
  <div class="site-breadcrumb">
    <div
      class="site-breadcrumb-bg"
      style="background: url(app/client/assets/img/breadcrumb/01.jpg)"
    ></div>
    <div class="container">
      <div class="site-breadcrumb-wrap">
        <h4 class="breadcrumb-title">Panier</h4>
        <ul class="breadcrumb-menu">
          <li>
            <a href="index.html"><i class="far fa-home"></i> Accueil</a>
          </li>
          <li class="active">Panier</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="shop-cart py-100">
    <div class="container">
      <div class="shop-cart-wrap">
        <div class="row">
          <div class="col-lg-8">
            <div class="cart-table">
              <div class="table-responsive">
                <table class="table">
                  <thead>
                  <tr>
                    <th>Image</th>
                    <th>Libellé</th>
                    <th>Prix</th>
                    <th>Quantité</th>
                    <th>Sous-Total</th>
                    <th></th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr *ngFor="let details of user.panier.detailsPanier">
                    <td>
                      <div class="shop-cart-img">
                        <a href="#"
                        ><img src="app/client/assets/img/product/{{details.produit.images[0].url}}" alt
                        /></a>
                      </div>
                    </td>
                    <td>
                      <div class="shop-cart-content">
                        <h5 class="shop-cart-name">
                          <a href="#">{{ details.produit.libelle }}</a>
                        </h5>
                        <div class="shop-cart-info">
                          <p><span>Type:</span>{{ details.produit.categorie.libelle }}</p>
<!--                          <p><span>Color:</span>Black</p>-->
                        </div>
                      </div>
                    </td>
                    <td>
                      <div class="shop-cart-price">
                        <span>{{ details.produit.prix | number: '1.0-0'}}</span>
                      </div>
                    </td>
                    <td>
                      <div class="shop-cart-qty">
                        <button (click)="decrement(details)" class="minus-btn">
                          <i class="fal fa-minus"></i>
                        </button>
                        <input
                          class="quantity"
                          type="text"
                          [value]="details.quantite"
                          disabled
                        />
                        <button (click)="increment(details)" class="plus-btn">
                          <i class="fal fa-plus"></i>
                        </button>
                      </div>
                    </td>
                    <td>
                      <div class="shop-cart-subtotal">
<!--                        <span>{{ details.montant * details.quantite | number: '1.0-0'}} F</span>-->
                        <div class="">
                          <span class="text-black">{{ details.montant * details.quantite - (details.montant * details.quantite * details.produit.remise)/100 | number: '1.0-0' }} FCFA</span>
                          <div style="margin-top: -6px" *ngIf="details.produit.remise">
                            <del class="me-2" style="font-size: small">{{ details.montant * details.quantite | number: '1.0-0' }}</del>
                            <span class="opacity-75 bg-opacity-75 text-bg-warning" style="font-size: small">-{{details.produit.remise}}%</span>
                          </div>
                        </div>
                      </div>
                    </td>
                    <td>
                      <a href="#" class="shop-cart-remove"
                      ><i class="far fa-times"></i
                      ></a>
                    </td>
                  </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="shop-cart-footer">
              <div class="row">
                <div class="col-md-7 col-lg-6">
                  <div class="shop-cart-coupon">
                    <div class="form-group">
                      <input
                        type="text"
                        class="form-control"
                        placeholder="Code du coupon..."
                      />
                      <button class="theme-btn" type="submit">
                        Valider le coupon
                      </button>
                    </div>
                  </div>
                </div>
                <div class="col-md-5 col-lg-6">
                  <div class="shop-cart-btn text-md-end">
                    <a href="/shop" class="theme-btn"
                    ><span class="fas fa-arrow-left"></span> Poursuivre mes achats</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="shop-cart-summary">
              <app-cart-summary [cart]="user.panier"></app-cart-summary>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <app-prefooter></app-prefooter>

</main>
